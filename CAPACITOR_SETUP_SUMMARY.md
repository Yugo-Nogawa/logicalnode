# Capacitor iOSå¯¾å¿œ - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ã‚µãƒãƒªãƒ¼

## ğŸ‰ å®Œäº†ã—ã¾ã—ãŸï¼

Logical Node 3ãŒiOSã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼

## ğŸ“ å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

### æ–°è¦ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

1. **www/index.html** - Capacitorå¯¾å¿œã®HTML
2. **www/styles.css** - ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆï¼ˆå…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ”ãƒ¼ï¼‰
3. **www/renderer.js** - Capacitorå¯¾å¿œã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
4. **www/capacitor.js** - CapacitoråˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
5. **capacitor.config.json** - Capacitorè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
6. **ios/** ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª - iOSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“
7. **README_iOS.md** - iOSç‰ˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

### å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

1. **package.json** - Capacitorã®ä¾å­˜é–¢ä¿‚ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ 

## ğŸ”„ ä¸»ãªå¤‰æ›´ç‚¹

### 1. Electron â†’ Capacitor API

| Electron API | Capacitor/Web API |
|--------------|-------------------|
| `ipcRenderer.invoke()` | localStorage / Web Share API |
| `dialog.showSaveDialog()` | Web Share API / Download |
| `fs.readFile()` | FileReader API |
| `fs.writeFile()` | localStorage / Blob |

### 2. ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ

- **ä¿å­˜**: localStorageã«è‡ªå‹•ä¿å­˜ï¼ˆ5ç§’ã”ã¨ï¼‰
- **ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: Web Share APIã¾ãŸã¯è‡ªå‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- **èª­è¾¼**: `<input type="file">`ã‚’ä½¿ç”¨

### 3. æ–°æ©Ÿèƒ½

- **è‡ªå‹•ä¿å­˜**: 5ç§’ã”ã¨ã«localStorageã¸è‡ªå‹•ä¿å­˜
- **ãƒ¢ãƒã‚¤ãƒ«UI**: ã‚¿ãƒƒãƒæ“ä½œã«å¯¾å¿œã—ãŸãƒ„ãƒ¼ãƒ«ãƒãƒ¼
- **ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ€ãƒ«**: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Windowsã§ã§ãã‚‹ã“ã¨

1. **Electronç‰ˆã®é–‹ç™ºã‚’ç¶™ç¶š**
   ```bash
   npm start
   ```

2. **Webç‰ˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ†ã‚¹ãƒˆ**
   ```bash
   # ç°¡æ˜“HTTPã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ï¼ˆPython 3ã®å ´åˆï¼‰
   cd www
   python -m http.server 8000
   # ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8000 ã‚’é–‹ã
   ```

   ã¾ãŸã¯ã€Live Serverãªã©ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨

### Macã§ã§ãã‚‹ã“ã¨ï¼ˆiOSé–‹ç™ºï¼‰

1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Macã«ç§»å‹•**
   - GitHubã‚„USBãƒ‰ãƒ©ã‚¤ãƒ–ãªã©ã§è»¢é€

2. **CocoaPodsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   ```bash
   sudo gem install cocoapods
   ```

3. **ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   ```bash
   cd logicalnode3
   npm install
   cd ios/App
   pod install
   cd ../..
   ```

4. **Xcodeã§é–‹ã**
   ```bash
   npm run cap:open:ios
   ```

   ã¾ãŸã¯
   ```bash
   open ios/App/App.xcworkspace
   ```

5. **ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§å®Ÿè¡Œ**
   - Xcodeã®â–¶ï¸ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

## ğŸ“± iOSç‰ˆã®ç‰¹å¾´

### âœ… å‹•ä½œã™ã‚‹æ©Ÿèƒ½

- âœ… ãƒãƒ¼ãƒ‰ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- âœ… ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—
- âœ… Undo/Redo
- âœ… ã‚³ãƒ”ãƒ¼/ã‚«ãƒƒãƒˆ/ãƒšãƒ¼ã‚¹ãƒˆ
- âœ… æ¤œç´¢æ©Ÿèƒ½
- âœ… ãƒ¡ãƒ¢æ©Ÿèƒ½
- âœ… å¤ªå­—ãƒ»ã‚«ãƒ©ãƒ¼è¨­å®š
- âœ… æŠ˜ã‚ŠãŸãŸã¿
- âœ… è¤‡æ•°é¸æŠ
- âœ… è‡ªå‹•ä¿å­˜ï¼ˆlocalStorageï¼‰
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«èª­è¾¼ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«é¸æŠï¼‰
- âœ… ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆMarkdown/Text/JSONï¼‰

### âš ï¸ Electronç‰ˆã¨ã®é•ã„

1. **ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜**
   - Electron: ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«ç›´æ¥ä¿å­˜
   - iOS: localStorageã«ä¿å­˜ + å…±æœ‰æ©Ÿèƒ½ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

2. **è¤‡æ•°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**
   - Electron: è¤‡æ•°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¯¾å¿œ
   - iOS: ã‚·ãƒ³ã‚°ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦

3. **ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼**
   - Electron: ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼
   - iOS: ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ + ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼

4. **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ**
   - Electron: ã™ã¹ã¦å‹•ä½œ
   - iOS: å¤–éƒ¨ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ¥ç¶šæ™‚ã®ã¿å‹•ä½œï¼ˆã‚¿ãƒƒãƒæ“ä½œãŒåŸºæœ¬ï¼‰

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•

### ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ†ã‚¹ãƒˆ

1. HTTPã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
   ```bash
   cd www
   # Python 3
   python -m http.server 8000

   # ã¾ãŸã¯ Node.js (http-server)
   npx http-server -p 8000
   ```

2. ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã
   ```
   http://localhost:8000
   ```

3. å‹•ä½œç¢ºèª
   - ãƒãƒ¼ãƒ‰ã®ä½œæˆãƒ»ç·¨é›†
   - ä¿å­˜ãƒ»èª­è¾¼
   - ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½

### iOSã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ãƒ†ã‚¹ãƒˆï¼ˆMacã®ã¿ï¼‰

1. Xcodeã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
   ```bash
   npm run cap:open:ios
   ```

2. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é¸æŠï¼ˆä¾‹: iPhone 15 Proï¼‰

3. å®Ÿè¡Œï¼ˆâ–¶ï¸ãƒœã‚¿ãƒ³ï¼‰

4. ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ãŸã‚‰æ“ä½œç¢ºèª

## ğŸ“Š ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º

- **www/** ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: ç´„100KBï¼ˆã‚³ãƒ¼ãƒ‰ + CSSï¼‰
- **ios/** ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: ç´„5MBï¼ˆXcodeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰
- **node_modules/**: ç´„200MBï¼ˆé–‹ç™ºæ™‚ã®ã¿å¿…è¦ï¼‰

## ğŸ”§ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ã‚³ãƒ¼ãƒ‰å¤‰æ›´æ™‚

1. `www/`å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

2. å¤‰æ›´ã‚’åŒæœŸ
   ```bash
   npm run cap:sync
   ```

3. Xcodeã§å†ãƒ“ãƒ«ãƒ‰ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

### Capacitorãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¿½åŠ 

```bash
npm install @capacitor/[plugin-name]
npm run cap:sync
```

## ğŸ› æ—¢çŸ¥ã®å•é¡Œ

1. **PNG ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½**
   - ç¾åœ¨æœªå®Ÿè£…ï¼ˆãƒ¢ãƒã‚¤ãƒ«ã§ã®å®Ÿè£…ãŒè¤‡é›‘ãªãŸã‚ï¼‰
   - ä»£ã‚ã‚Šã«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ä½¿ç”¨

2. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚¢ã‚¯ã‚»ã‚¹**
   - ç›´æ¥çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã¯ä¸å¯
   - å…±æœ‰æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

3. **è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†**
   - ä¸€åº¦ã«1ã¤ã®ãƒ„ãƒªãƒ¼ã®ã¿ï¼ˆElectronç‰ˆã¯è¤‡æ•°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å¯¾å¿œï¼‰

## ğŸ’¡ ãƒ’ãƒ³ãƒˆ

### localStorage ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢

```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œ
localStorage.removeItem('logicalnode_data');
```

### ãƒ‡ãƒãƒƒã‚°

- **ãƒ–ãƒ©ã‚¦ã‚¶**: F12ã§DevToolsã‚’é–‹ã
- **iOS**: Safari > Develop > Simulator > [Your App]

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- å¤§ããªãƒ„ãƒªãƒ¼ï¼ˆ1000ãƒãƒ¼ãƒ‰ä»¥ä¸Šï¼‰ã¯å‹•ä½œãŒé…ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
- è¤‡æ•°ã®ãƒ„ãƒªãƒ¼ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Capacitorå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://capacitorjs.com/docs)
- [Capacitor iOS ã‚¬ã‚¤ãƒ‰](https://capacitorjs.com/docs/ios)
- [Web Share API](https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share)
- [LocalStorage API](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)

## ğŸ¯ ä»Šå¾Œã®æ‹¡å¼µ

### ææ¡ˆã•ã‚Œã‚‹æ©Ÿèƒ½

1. **Capacitor File System API**ã®æ´»ç”¨
   - ã‚ˆã‚ŠæŸ”è»Ÿãªãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†

2. **ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ**
   - Firebase / Supabaseã¨ã®çµ±åˆ

3. **Androidç‰ˆ**
   ```bash
   npm install @capacitor/android
   npx cap add android
   ```

4. **PWAå¯¾å¿œ**
   - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œ
   - ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªWebã‚¢ãƒ—ãƒª

---

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†æ—¥**: 2025å¹´10æœˆ29æ—¥
**Capacitorãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 7.4.4
**iOSå¯¾å¿œ**: âœ… å®Œäº†
